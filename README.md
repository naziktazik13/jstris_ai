![тетрис — сделано в Clipchamp (1)](https://github.com/user-attachments/assets/c8c52df4-d841-473f-a1bd-4ad560735c8c)
# jstris AI
https://jstris.jezevec10.com/ 

Этот проект представляет собой искусственный интеллект для игры в Tetris (на примере Jstris), который использует анализ экрана и тени фигур для принятия решений. AI определяет оптимальные ходы, чтобы минимизировать количество дыр и максимизировать количество собранных линий.

## Особенности
- **Автоматическое определение фигур**: AI анализирует активные блоки и их тени для определения текущей фигуры.
- **Оптимальные ходы**: Алгоритм оценивает возможные позиции и повороты фигур, выбирая лучший вариант на основе нескольких критериев:
  - Количество собранных линий.
  - Количество дыр на поле.
  - Высота столбцов и неровность поверхности.
- **Управление с клавиатуры**: AI можно включать/выключать во время игры.(A: Включить/выключить AI Q: Завершить работу программы)
- **Адаптивность**: Настройки области захвата экрана можно изменить под любое разрешение.

Настройка весов оценки
Вы можете настроить веса критериев оценки в функции evaluate_board , чтобы изменить поведение AI:
  ```python
weights = {
    'completed_lines': 1.0,    # Поощрение за собранные линии
    'holes': -100.0,          # Штраф за дыры
    'high_towers': -1,        # Штраф за высокие столбцы
    'bumpiness': -0.5,        # Штраф за неровность
    'aggregate_height': -1,   # Штраф за общую высоту
    'row_transitions': -0.5,  # Штраф за перепады в строках
    'col_transitions': -1     # Штраф за перепады в столбцах
}
  ```

## Установка и запуск
1. **Установите зависимости**:
   ```python
   pip install Pillow numpy keyboard
   ```
---

### Планы (v6)  
В следующей версии планируется реализовать следующие улучшения:  

#### 1. **Анализ следующих блоков**  
   - AI будет "заглядывать вперед", учитывая не только текущую фигуру, но и следующие 1-3 фигуры в очереди.  
   - Это позволит выбирать ходы, которые оптимальны для комбинации текущей и будущих фигур.  

#### 2. **Механика удержания (Hold)**  
   - Добавление поддержки кнопки `Hold` для сохранения текущей фигуры и использования ее позже.  
   - Алгоритм будет решать, когда выгоднее удержать фигуру, а когда поставить ее сразу.  
   - Пример: удержание `I-блока` для очистки 4 строк за раз.  

#### 3. **Оптимизация оценки доски**  
   - Более точные веса для критериев (дыры, высота, переходы) на основе машинного обучения или A/B-тестирования.  
   - Учет "потенциальных дыр" — мест, где они могут возникнуть после размещения фигуры.  

#### 4. **Динамическая адаптация**  
   - Автоматическая настройка параметров (например, агрессивности AI) в зависимости от уровня заполнения поля.  
   - При высоком уровне — минимизация рисков, при низком — фокус на очистке линий.  

#### 5. **Улучшенное распознавание**  
   - Более надежное определение фигур и их теней даже при наложении блоков или помехах.  
   - Поддержка разных цветовых схем (для других версий Tetris).  

#### 6. **Интерфейс для настройки**  
   - Гибкие параметры через конфигурационный файл (например, `config.json`):  
     ```json
     {
       "weights": {
         "holes": -100.0,
         "next_pieces": 3,
         "hold_enabled": true
       }
     }
     ```  

---

Этот раздел подчеркивает прогресс проекта и дает пользователям представление о будущих возможностях. Если нужно добавить технические детали или примеры кода для каких-то пунктов, сообщите!
